@{
    ViewBag.Title = "SearchResult";
}

<h2 style="text-align:center;">SearchResult for "@ViewBag.q"</h2>

<script>
    $('document').ready($(function () {
        $.ajax({
            method: "GET",
            url: "/Home/AjaxSearch",
            data: {
                q: '@ViewBag.q',
            },
            error: function () { alert('error'); }
        }).done(function (html) {
            $('#ajaxcontent').html(html);
            $('#loading-image').hide();
        });
    }));
</script>

<div id="loading-image"><img style="display: block;margin: 0 auto;" src="~/Images/ajax-loader.gif" /></div>

<div id="ajaxcontent">
</div>